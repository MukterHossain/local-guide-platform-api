model Availability {
    id        String   @id @default(cuid())
    guideId   String
    startAt   DateTime
    endAt     DateTime
    isBooked  Boolean  @default(false)
    createdAt DateTime @default(now())
    updatedAt DateTime @updatedAt

    guide User @relation(fields: [guideId], references: [id], onDelete: Cascade)

    @@unique([guideId, startAt, endAt])
    @@map("availabilities")
}

model Wishlist {
    id        String   @id @default(cuid())
    userId    String
    title     String?
    message   String
    meta      Json?
    read      Boolean  @default(false)
    createdAt DateTime @default(now())
    updatedAt DateTime @updatedAt

    user User @relation(fields: [userId], references: [id], onDelete: Cascade)

    @@map("wishlists")
}

model Report {
    id         String   @id @default(cuid())
    reporterId String
    guideId    String
    reason     String
    details    String?
    createdAt  DateTime @default(now())
    updatedAt  DateTime @updatedAt

    reporter User @relation("ReportReporter", fields: [reporterId], references: [id], onDelete: Cascade)
    guide    User @relation("ReportGuide", fields: [guideId], references: [id], onDelete: Cascade)

    @@map("reports")
}

model Notification {
    id        String   @id @default(cuid())
    userId    String
    title     String?
    message   String
    meta      Json?
    read      Boolean  @default(false)
    createdAt DateTime @default(now())
    updatedAt DateTime @updatedAt

    user User @relation(fields: [userId], references: [id], onDelete: Cascade)

    @@map("notifications")
}

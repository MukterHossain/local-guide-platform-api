model User {
    id                 String     @id @default(cuid())
    name               String
    email              String     @unique
    password           String
    phone              String?
    image              String?
    gender              Gender
    address            String?
    bio                String?
    languages          String[] // ["English","Bangla"]
    needPasswordChange Boolean    @default(true)
    role               UserRole   @default(TOURIST)
    isDeleted          Boolean    @default(false)
    status             UserStatus @default(ACTIVE)
    createdAt          DateTime   @default(now())
    updatedAt          DateTime   @updatedAt

    profile        Profile?
    tours          Tour[]          @relation("GuideTours")
    bookings       Booking[]       @relation("UserBookings")
    reviews        Review[]        @relation("UserReviews")
    guideReviews   Review[]        @relation("GuideReviews")
    guideLocations GuideLocation[] @relation("GuideLocations")
    wishlist       Wishlist[]
    reportsFiled   Report[]        @relation("ReportReporter")
    reportsAgainst Report[]        @relation("ReportGuide")
    report Report[]        @relation("ReportAdmin")
    availabilities Availability[]

    @@map("users")
}

model Profile {
    id                 String                  @id @default(cuid())
    userId             String                  @unique
    expertise          String?
    experienceYears    Int?
    locationId         String?
    avgRating          Float?                  @default(0)
    location           Location?               @relation(fields: [locationId], references: [id])
    feePerHour         Float?
    availableStatus    Boolean                 @default(true)
    verificationStatus GuideVerificationStatus @default(PENDING)
    adminNote          String?

    user User @relation(fields: [userId], references: [id], onDelete: Cascade)

    @@map("profiles")
}
